#ifndef CRC_H
	#define CRC_H
	//----------------------------------------------------------------------------------------------------
	#include "STM32.h"
	//----------------------------------------------------------------------------------------------------
	#define CRC_Address 0x40023000
	//----------------------------------------------------------------------------------------------------
	struct CRC_IDR_T
	{
		volatile unsigned long
			idr:8,
			reserved:24;
	};
	//----------------------------------------------------------------------------------------------------
	struct CRC_CR_T
	{
		volatile unsigned long
			reset:1,
			reserved:31;
	};
	//----------------------------------------------------------------------------------------------------
	struct crc_regs_S
	{
		volatile unsigned long DR;
		CRC_IDR_T IDR;
		CRC_CR_T CR;
	};
	//----------------------------------------------------------------------------------------------------
	class crc
	{
		private:
			crc_regs_S* crc_regs;
		public:
			crc();
			void init();
			void reset();
			void add(unsigned long data);
			unsigned long get();
	};
	//----------------------------------------------------------------------------------------------------
	extern crc Crc;
#endif
