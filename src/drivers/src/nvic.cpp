#include "nvic.h"
//----------------------------------------------------------------------------------------------------
Nvic nvic;
//----------------------------------------------------------------------------------------------------
Nvic::Nvic()
{
	//--------------------
	// Set Regs to memory location
	//--------------------
		regs = (NVIC_REGS_S*) NVIC_Address;
		stir = (NVIC_STIR_S*) NVIC_STIR_Address;
	//~~~~~~~~~~~~~~~~~~~~
}
//----------------------------------------------------------------------------------------------------
void Nvic::init()
{
	//--------------------
	// Set regs to memory location
	//--------------------
		regs = (NVIC_REGS_S*) NVIC_Address;
	//~~~~~~~~~~~~~~~~~~~~
}
//----------------------------------------------------------------------------------------------------
void Nvic::set_priority(unsigned char position, unsigned long priority)
{
	regs->IPR[position] = priority;
}
//----------------------------------------------------------------------------------------------------
void Nvic::set_enable(unsigned char position, unsigned long interrup) 
{
	regs->ISER[position] |= (1 << interrup);
}
//----------------------------------------------------------------------------------------------------